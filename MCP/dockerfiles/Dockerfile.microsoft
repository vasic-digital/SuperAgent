# MCP Microsoft Server - Azure services
FROM node:20-alpine

RUN apk add --no-cache python3 py3-pip

# Install Azure CLI
RUN pip3 install --no-cache-dir azure-cli

WORKDIR /app

COPY . .

RUN npm install && npm run build 2>/dev/null || true

ENV AZURE_TENANT_ID=""
ENV AZURE_CLIENT_ID=""
ENV AZURE_CLIENT_SECRET=""

EXPOSE 3000

CMD ["node", "dist/index.js"]
